<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ site_title }}</title>
  <meta name="description" content="{{ site_description }}" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    :root{
      --bg:#0f1720;
      --panel:#0b1220;
      --text:#e6eef8;
      --muted:#9fb0c8;
      --accent:#3aa0ff;
      --link:#3aa0ff;
      --link-hover:#66b8ff;
      --link-visited:#9b7bff;
      --link-active:#1e88e5;
      --link-focus-outline: rgba(102,184,255,0.18);
    }

    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#071025 0%, #0f1720 100%);
      color:var(--text);
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,Arial,sans-serif;
      line-height:1.6;
      padding:24px;
    }

    .site{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 300px;gap:28px;align-items:start}
    .site-header{grid-column:1/-1;margin-bottom:8px}
    .site-title{margin:0;font-size:1.6rem}
    .site-sub{margin:4px 0 0;color:var(--muted);font-size:0.95rem}

    .content{background:var(--panel);padding:20px;border-radius:10px;box-shadow:0 4px 18px rgba(2,6,23,0.6)}
    .posts-list{display:flex;flex-direction:column;gap:20px}
    .post{padding:14px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
    .post-date{display:block;color:var(--muted);font-size:0.9rem;margin-bottom:6px}
    .post-title{margin:0 0 8px;font-size:1.15rem}
    .post-body p{margin:0 0 10px;color:var(--text)}

    .sidebar{padding:18px;background:transparent;color:var(--muted)}
    .sidebar h3{margin:0 0 8px;color:var(--text)}
    .sidebar ul{padding-left:18px;margin:6px 0 0}
    .sidebar a{color:var(--link);text-decoration:none}
    .site-footer{grid-column:1/-1;text-align:center;color:var(--muted);margin-top:18px;font-size:0.9rem}

    a{color:var(--link);transition:color .12s ease, box-shadow .12s ease}
    a:hover,a:focus{color:var(--link-hover);outline:none;box-shadow:0 0 0 4px var(--link-focus-outline);border-radius:4px}
    a:active{color:var(--link-active)}
    a:visited{color:var(--link-visited)}

    @media (max-width:960px){
      .site{grid-template-columns:1fr; padding:16px}
      .sidebar{order:2}
    }

    code{background:rgba(255,255,255,0.03);padding:2px 6px;border-radius:4px;color:var(--muted);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Helvetica Neue", monospace;font-size:0.95em}
    img{max-width:100%;height:auto;border-radius:6px}
  </style>
</head>
<body>
  <div class="site">
    <header class="site-header">
      <div>
        <h1 class="site-title">{{ site_title }}</h1>
        <p class="site-sub">{{ site_sub }}</p>
      </div>
    </header>

    <main class="content" aria-live="polite">
      <section class="posts-list">
        {{ posts_block }}
      </section>
    </main>

    <aside class="sidebar" role="complementary">
      <section>
        <h3>プロフィール</h3>
        <p>
            <img src="../images/katrin.png" alt="説明文" style="max-width:180px;border-radius:6px;border:1px solid rgba(0,0,0,0.08)">
          <br>
          かつりんたろう
          </p>
        
      </section>

      <section>
        <h3>最近の投稿</h3>
        <ul>
          {{ recent_links }}
        </ul>
      </section>

      <section>
        <h3>カテゴリ</h3>
        <ul>
          <li><a href="#">日記</a></li>
          <li><a href="#">技術メモ</a></li>
        </ul>
      </section>
    </aside>

    <footer class="site-footer" role="contentinfo">
      <p>© {{ site_owner }}</p>
    </footer>
  </div>

  <script>
    (function(){
      const main = document.querySelector('.posts-list');
      if(!main) return;
      const posts = Array.from(main.querySelectorAll('.post'));
      posts.sort((a,b) => {
        const da = a.getAttribute('data-date') || (a.querySelector('.post-date') && a.querySelector('.post-date').getAttribute('datetime'));
        const db = b.getAttribute('data-date') || (b.querySelector('.post-date') && b.querySelector('.post-date').getAttribute('datetime'));
        return (db || '').localeCompare(da || '');
      });
      posts.forEach(p => main.appendChild(p));
    })();
  </script>
</body>
</html>